import{d as b,aF as g,av as h,aG as $,r as _,aH as w,aI as S,q as y,_ as f,aJ as A,o as p,f as V,ae as l,ac as s,aK as c,h as u,af as x,aj as P,ar as j,ab as B,aL as C}from"./index.226979dd.js";import{Q as D}from"./QTable.f993b2a5.js";import"./QList.6785a3a8.js";const N=[{name:1,label:"Name",align:"left",field:e=>e[31],format:e=>`${e}`,sortable:!0},{name:2,label:"Craft",align:"left",field:e=>e[59],format:e=>`${e}`,sortable:!0},{name:3,label:"Classification",align:"left",field:e=>e[60],format:e=>`${e}`,sortable:!0},{name:4,label:"Job Number",align:"left",field:e=>e[85],format:e=>`${!e||e===""?"Not Assigned":e}`,sortable:!0},{name:5,label:"Site Contact",align:"left",field:e=>e[43],format:e=>`${e===""||!e?"Not Assigned":e}`,sortable:!0},{name:6,label:"Start Date",align:"left",field:e=>e[33],format:e=>`${A.formatDate(new Date(e),"MM-DD-YYYY")}`,sortable:!0}],T=b({name:"Arrivals Table",components:{},setup(){const e=g(),n=h(),{deploymentsForProject:i}=$(e),o=i,r=_([]);w(()=>{e.alreadyArrived.forEach(a=>{r.value.includes(a)||r.value.push(a)})}),S(()=>{e.alreadyArrived.forEach(a=>{r.value.includes(a)||r.value.push(a)})});const d=y(()=>o.value.length>=25?Math.round(o.value.length/5):5);function t({rows:a,added:v,evt:M}){console.log(a[0]),e.updateArrival({row:a[0],added:v})}return{columns:N,rows:o,initialPagination:{rowsPerPage:d},separator:"vertical",arrivals:r,projectStore:n,updateArrivals:t,hiringStore:e}}}),k={class:"q-px-sm"},q={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function Q(e,n,i,o,r,d){return p(),V("div",k,[l(D,{"title-class":"text-primary text-h6",title:`Expected Arrivals for ${e.projectStore.active[16]}`,columns:e.columns,rows:e.rows,"row-key":"3",class:"q-pa-sm",pagination:e.initialPagination,separator:"vertical",selection:"multiple",onSelection:e.updateArrivals,selected:e.hiringStore.alreadyArrived,"table-header-class":"bg-dark text-white","no-data-label":`There are no expected arrivals for ${e.projectStore.active[16]}`,dense:""},{"header-selection":s(t=>[l(c,{disable:"",modelValue:t.selected,"onUpdate:modelValue":a=>t.selected=a},null,8,["modelValue","onUpdate:modelValue"])]),"body-selection":s(t=>[l(c,{modelValue:t.selected,"onUpdate:modelValue":a=>t.selected=a},null,8,["modelValue","onUpdate:modelValue"])]),"no-data":s(({message:t})=>[u("div",q,[l(x,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),u("span",null,P(t),1)])]),_:1},8,["title","columns","rows","pagination","onSelection","selected","no-data-label"])])}var m=f(T,[["render",Q]]);const U={name:"Arrivals",components:{arrivalTable:m},setup(){return{arrivalTable:m}}};function E(e,n,i,o,r,d){const t=j("arrival-table");return p(),B(C,{style:{"max-width":"100vw"}},{default:s(()=>[l(t)]),_:1})}var I=f(U,[["render",E]]);export{I as default};
